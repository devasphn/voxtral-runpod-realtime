<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß† Voxtral UNDERSTANDING-ONLY - Real-Time Conversational AI</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üß† Voxtral UNDERSTANDING-ONLY</h1>
            <p>Real-Time Conversational AI with 0.3-Second Gap Detection</p>
            <div class="mode-indicator">
                <span class="badge badge-understanding">Conversational AI</span>
                <span class="badge badge-gap">0.3s Gap Detection</span>
                <span class="badge badge-speed">Sub-200ms Response</span>
            </div>
        </header>

        <div class="status-panel">
            <div class="status-item">
                <span class="label">Connection:</span>
                <span id="connection-status" class="status disconnected">Disconnected</span>
            </div>
            <div class="status-item">
                <span class="label">Model:</span>
                <span id="model-status" class="status">Loading...</span>
            </div>
            <div class="status-item">
                <span class="label">Audio:</span>
                <span id="audio-status" class="status">Not Recording</span>
            </div>
            <div class="status-item">
                <span class="label">Gap Detection:</span>
                <span id="gap-status" class="status">300ms</span>
            </div>
        </div>

        <div class="control-panel">
            <div class="understanding-info">
                <div class="info-card">
                    <h3>üß† How UNDERSTANDING-ONLY Mode Works</h3>
                    <ul>
                        <li>Continuous audio recording with gap detection</li>
                        <li>0.3-second silence triggers AI processing</li>
                        <li>Conversational AI responses with context memory</li>
                        <li>Sub-200ms response time optimization</li>
                        <li>Natural speech boundaries using WebRTC VAD</li>
                    </ul>
                </div>
            </div>

            <div class="audio-controls">
                <button id="connect-btn" class="btn btn-primary">Connect to Understanding Service</button>
                <button id="record-btn" class="btn btn-secondary" disabled>Start Continuous Recording</button>
                <button id="disconnect-btn" class="btn btn-danger" disabled>Disconnect</button>
            </div>

            <div class="instructions">
                <h4>üéØ Quick Instructions:</h4>
                <ol>
                    <li><strong>Connect:</strong> Click "Connect to Understanding Service"</li>
                    <li><strong>Record:</strong> Click "Start Continuous Recording"</li>
                    <li><strong>Speak:</strong> Talk naturally - no need to hold buttons</li>
                    <li><strong>Pause:</strong> 0.3-second silence triggers AI response</li>
                    <li><strong>Converse:</strong> Continue natural conversation flow</li>
                </ol>
            </div>
        </div>

        <div class="performance-panel">
            <h3>üìä Real-Time Performance</h3>
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-label">Gap Threshold</div>
                    <div id="gap-metric" class="metric-value">300ms</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Last Response</div>
                    <div id="response-metric" class="metric-value">0ms</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Context Turns</div>
                    <div id="context-metric" class="metric-value">0</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Sub-200ms Rate</div>
                    <div id="speed-metric" class="metric-value">0%</div>
                </div>
            </div>
        </div>

        <div class="results-panel">
            <div class="results-header">
                <h3>üß† Understanding Results</h3>
                <button id="clear-results" class="btn btn-small">Clear Results</button>
            </div>
            <div id="results-container" class="results-container">
                <p class="no-results">No results yet. Connect and start recording for UNDERSTANDING-ONLY conversational AI.</p>
            </div>
        </div>

        <div class="features-panel">
            <h3>üåü UNDERSTANDING-ONLY Features</h3>
            <div class="features-grid">
                <div class="feature-item">
                    <div class="feature-icon">üéØ</div>
                    <div class="feature-title">0.3s Gap Detection</div>
                    <div class="feature-desc">Automatic speech boundary detection using WebRTC VAD</div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">‚ö°</div>
                    <div class="feature-title">Sub-200ms Response</div>
                    <div class="feature-desc">Lightning-fast AI responses for real-time conversation</div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">üîÑ</div>
                    <div class="feature-title">Context Memory</div>
                    <div class="feature-desc">Remembers conversation history for natural dialogue</div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">üé§</div>
                    <div class="feature-title">Continuous Recording</div>
                    <div class="feature-desc">Always listening, no manual triggers needed</div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">üß†</div>
                    <div class="feature-title">Conversational AI</div>
                    <div class="feature-desc">Natural responses to your speech, not just transcription</div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">üåç</div>
                    <div class="feature-title">8+ Languages</div>
                    <div class="feature-desc">Multi-language support with automatic detection</div>
                </div>
            </div>
        </div>

        <div class="info-panel">
            <h3>üñ•Ô∏è System Information</h3>
            <div id="system-info" class="system-info">
                <p>Loading system information...</p>
            </div>
        </div>

        <div class="logs-panel">
            <h3>üìã Connection Logs</h3>
            <div id="logs-container" class="logs-container">
                <p class="log-entry">Ready to connect to UNDERSTANDING-ONLY service...</p>
            </div>
        </div>
    </div>

    <script src="/static/websocket_client.js"></script>
</body>
</html>
